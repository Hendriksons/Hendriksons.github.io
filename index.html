<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hendriksons News</title>
</head>
<script>
    async function dawdaw() {
        var fs = await fetch("https://hendriksons.github.io/artikellist.txt")
        var time = Date.now()
        let json1 = await fs.json()
        console.log(fs);
        var lestel = new Map(Object.entries(fs))
        console.log(lestel);
        document.getElementById("atikel1").innerText = lestel.get(0)
        document.getElementById("atikel2").innerText = lestel.get(0)
        document.getElementById("atikel1").setAttribute("href","?page=" + lestel.keys[0])
        document.getElementById("atikel2").setAttribute("href","?page=" + lestel.keys[1])



    }
    async function loadarticel(artikels) {
        console.log(artikels);
        var fs = await fetch("https://hendriksons.github.io/artikel.txt")
        fs = await fs.json()
        console.log(fs);
        var akmap = new Map(Object.entries(fs))
        console.log(akmap);
        var lel = new Map(Object.entries(akmap.get(artikels)))
        console.log(lel);
        document.getElementById("title").innerText = lel.get("name")
        var len = lel.get("length")
        var le = len--;
        for (let step = 0; step < le; step++) {
            console.log(step);
            var urtex = document.getElementById("artikelel").innerHTML
            l = step+1;
            document.getElementById("artikelel").innerHTML = urtex + "<div class='artik'><p>"+ lel.get("artikel"+ l) +"</p><img src="+lel.get("img"+ l) +"></div>"
            console.log(lel.get("artikel"+ l));
            console.log(lel.get("img"+ l));
        }
    }
    async function getParameter() {
        var parameters = new URLSearchParams(window.location.search)
        var artikellist1 = await fetch("https://hendriksons.github.io/artikellist.txt")
        var artikellist = await artikellist1.json()
        var artikelmap = new Map(Object.entries(artikellist))
        if(parameters.has("page")) {
            if(artikelmap.has(parameters.get("page"))) {
                loadarticel(parameters.get("page"))
            }
        }else {
            console.log(1);
            loadarticel(Array.from(artikelmap.keys())[0])
        }
    }
    dawdaw()
    getParameter()
</script>
<style>
    main {
        text-align: center;
    }

    header {
        display: inline-flex;
        font-family: fantasy;
    }

    .h1o {
        background-color: #2750cc;
        color: white;
        padding-right: 10px;
        font-variant-caps: all-petite-caps;
    }

    body {
        margin: 0%;
        background-color: rgb(0, 0, 8);
    }

    a {
        text-decoration: none;
    }

    .links a {
        color: #2750cc;
    }

    .links {
        color: #2750cc;
        padding-left: 10px;
        white-space: nowrap;
    }

    #title {
        font-family: fantasy;
        color: #2750cc;
    }

    .links h1 {
        padding-left: 10px;
        display: inline-block;
    }
    .artik {
        white-space: nowrap;
    }
    .artik img {
        display: inline-flex;
        align-items: center;
        vertical-align: middle;
        max-width:15%;
    }
    .artik p {
        display: inline-block;
        font-size: 20px;
        font-family: sans-serif;
        color: white;
    }
</style>

<body>
    <header>
        <div class="h1o">
            <h1>Hendriksons News</h1>
        </div>
        <div class="links">
            <h1> <a href="index.html">Home</a></h1>
            <h1><a id="atikel1" href=""></a></h1>
            <h1><a id="atikel2" href=""></a></h1>
        </div>

    </header>
    <main>
        <h1 id="title">Artikel Title</h1>
        <div id="artikelel">
        </div>
    </main>
</body>

</html>